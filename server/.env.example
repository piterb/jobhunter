# -----------------------------------------------------------------------------
# JobHunter Server (.env.example)
# Copy to: server/.env.local OR server/local.env
# -----------------------------------------------------------------------------

# Runtime
NODE_ENV=development
PORT=3001
APP_ENV=local
APP_NAME=jobhunter

# Database
DATABASE_URL=postgresql://jobhunter:jobhunter@127.0.0.1:5432/jobhunter?sslmode=disable
DBMATE_MIGRATIONS_TABLE=jobhunter_schema_migrations

# Storage (Fake GCS for local dev)
GCS_ENDPOINT=http://127.0.0.1:4443
GCS_PROJECT_ID=local-dev
RESOURCE_PREFIX=jobhunter-local

# Feedback (optional)
FEEDBACK_ENABLED=true
GITHUB_OWNER=your-github-user-or-org
GITHUB_REPO=jobhunter
FEEDBACK_GITHUB_TOKEN=github_pat_replace_me

# Auth (provider-agnostic layer; defaults are Auth0-compatible)
# Supported: auth0 | keycloak
AUTH_PROVIDER=auth0

# Local development mock mode.
# true  = accept any bearer token and inject fixed local user
# false = run real JWT validation even in development
AUTH_LOCAL_DEV_USE_MOCK_IDENTITY=true

# OIDC config (provider neutral)
# For Auth0: OIDC_ISSUER can be same as AUTH0_ISSUER_BASE_URL
# For Keycloak: use realm issuer URL, e.g. https://id.example.com/realms/appa-tst1
# OIDC_ISSUER=https://your-issuer
# OIDC_AUDIENCE=jobhunter-api
# OIDC_ALLOWED_ALGORITHMS=RS256

# Backward compatibility aliases (used if OIDC_* is not set)
# AUTH0_ISSUER_BASE_URL=https://your-tenant.eu.auth0.com
# AUTH0_AUDIENCE=jobhunter-api

# Policy enforcement
# AUTH_ENFORCE_APP_CLAIMS=true
# AUTH_APP_ID_CLAIM=app_id
# AUTH_APP_ENV_CLAIM=app_env
# OIDC_CLIENT_ALLOWLIST=jobhunter-web-tst,jobhunter-cli-tst
# AUTH_REQUIRED_SCOPES=read:jobs,write:jobs
